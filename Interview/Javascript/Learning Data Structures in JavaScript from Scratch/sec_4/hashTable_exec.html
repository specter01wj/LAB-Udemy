<!doctype html>
<html>
	<head>
		<title>test</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script>
		/*
		Hash Tables

		Independence Exercise
		*/
			$(document).ready(function(){
				

				function HashTable(size) {
					this.buckets = Array(size);
					this.numBuckets = this.buckets.length;
				}

				function HashNode(key, value, next) {
					this.key = key;
					this.value = value;
					this.next = next || null;
				}

				HashTable.prototype.hash = function(key) {
					var total = 0;
					for(var i = 0; i < key.length; i++) {
						total += key.charCodeAt(i);
					}

					return total % this.numBuckets;
				}

				HashTable.prototype.insert = function(key, value) {
					var index = this.hash(key);
					console.log('INDEX: ' + index);
					if(!this.buckets[index]) {
						this.buckets[index] = new HashNode(key, value);
					} else {
						var currentNode = this.buckets[index];
						while(currentNode.next) {
							currentNode = currentNode.next;
						}
						currentNode.next = new HashNode(key, value);
					}
				}

				HashTable.prototype.insert2 = function(key, value) {
					var index = this.hash(key);
					console.log('INDEX: ' + index);
					if(!this.buckets[index]) {
						this.buckets[index] = new HashNode(key, value);
					} else if(this.buckets[index].key === key) {
						this.buckets[index].value = value;
					} else {
						var currentNode = this.buckets[index];
						while(currentNode.next) {
							if(currentNode.next.key === key) {
								currentNode.next.value = value;
								return;
							}
							currentNode = currentNode.next;
						}
						currentNode.next = new HashNode(key, value);
					}
				}

				HashTable.prototype.get = function(key) {
					var index = this.hash(key);
					if(!this.buckets[index]) {
						return null;
					} else {
						var currentNode = this.buckets[index];
						while(currentNode) {
							if(currentNode.key === key) {
								return currentNode.value;
							}
							currentNode = currentNode.next;
						}
						return null;
					}
				}


				HashTable.prototype.retrieveAll = function() {
					
				}

				var myHT_1 = new HashTable(30);
				console.log(myHT_1);

				// console.log('hello'.charCodeAt(1));

				console.log(myHT_1.hash('Becca'));

				myHT_1.insert('James', 'jw@gmail.com');
				myHT_1.insert('Kim', 'km@gmail.com');
				myHT_1.insert('Jin', 'jw8212@gmail.com');

				console.log(myHT_1.buckets);


				var myHT_2 = new HashTable(20);

				myHT_2.insert2('AA1', 'aa1@aol.com');
				myHT_2.insert2('BB1', 'bb1@aol.com');
				myHT_2.insert2('CC1', 'cc1@aol.com');

				myHT_2.insert2('BB1', 'kill1@aol.com');

				console.log(myHT_2.buckets);

				console.log(myHT_2.get('BB1'));
				console.log(myHT_2.get('ZZ1'));
				
				// var noteText = [5, 7, 12, 16, 36, 39, 42, 56, 71];
				// var noteText2 = [40, 11, 19, 17, -12];

				// var tt1 = fibonacci2(12);

				// $('#t1').html('<h2>Results are:' + tt1 + '</h2>');
			});
			
			
		</script>
	</head>
	
	<body>
		<div>
			<p id='t1'></p>
		</div>
	</body>

</html>